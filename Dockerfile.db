# Use PostgreSQL 15 Alpine as base image
FROM postgres:15-alpine

# Copy the database initialization script
COPY server/database.sql /docker-entrypoint-initdb.d/

# Set environment variables
ENV POSTGRES_DB=perntodo
ENV POSTGRES_USER=postgres
ENV POSTGRES_PASSWORD=password

# Expose port
EXPOSE 5432

# The default postgres entrypoint will handle initialization 